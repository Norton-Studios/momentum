<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Sources - Momentum Setup</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">Momentum</a>
                <div class="text-sm text-medium">Setup Wizard</div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container" style="padding-top: 2rem; padding-bottom: 4rem;">
        <!-- Wizard Steps -->
        <div class="wizard-steps">
            <div class="wizard-step completed">
                <div class="wizard-step-number">1</div>
                <span class="wizard-step-label">Account</span>
            </div>
            <div class="wizard-step active">
                <div class="wizard-step-number">2</div>
                <span class="wizard-step-label">Data Sources</span>
            </div>
            <div class="wizard-step">
                <div class="wizard-step-number">3</div>
                <span class="wizard-step-label">Team Setup</span>
            </div>
            <div class="wizard-step">
                <div class="wizard-step-number">4</div>
                <span class="wizard-step-label">Review</span>
            </div>
        </div>

        <!-- Data Sources Configuration -->
        <div class="container-sm">
            <div class="text-center mb-12">
                <h1>Connect Your Data Sources</h1>
                <p class="text-lg text-medium">Connect your development tools to start gathering insights. Version control is required, others are optional but recommended.</p>
            </div>

            <!-- Required Data Sources -->
            <div class="mb-12">
                <h2 class="mb-6">Version Control System <span class="text-sm font-normal text-medium">(Required)</span></h2>
                <p class="text-medium mb-6">Choose your primary version control system. This is required to track commits, pull requests, and code changes.</p>
                
                <div class="grid grid-cols-3 gap-4">
                    <!-- GitHub -->
                    <div class="card cursor-pointer transition-all" data-source="github" data-required="true">
                        <div class="card-content text-center">
                            <div class="w-16 h-16 bg-black rounded-lg flex items-center justify-center mb-4 mx-auto">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 0C5.374 0 0 5.373 0 12 0 17.302 3.438 21.8 8.207 23.387c.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/>
                                </svg>
                            </div>
                            <h3 class="card-title">GitHub</h3>
                            <p class="card-description">Connect your GitHub repositories and pull requests</p>
                            <div class="mt-4">
                                <div class="btn btn-secondary" style="width: 100%;">Connect GitHub</div>
                            </div>
                        </div>
                    </div>

                    <!-- GitLab -->
                    <div class="card cursor-pointer transition-all" data-source="gitlab" data-required="true">
                        <div class="card-content text-center">
                            <div class="w-16 h-16 bg-black rounded-lg flex items-center justify-center mb-4 mx-auto">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 21.42l3.684-11.333H8.316L12 21.42z M2.291 10.087L.844 14.64a.556.556 0 00.203.622L12 21.42 2.291 10.087z M2.291 10.087h5.158L5.633 1.572a.278.278 0 00-.527 0L2.291 10.087z M21.709 10.087L23.156 14.64a.556.556 0 01-.203.622L12 21.42l9.709-11.333z M21.709 10.087h-5.158L18.367 1.572a.278.278 0 01.527 0l2.815 8.515z M15.684 10.087L12 21.42 8.316 10.087h7.368z"/>
                                </svg>
                            </div>
                            <h3 class="card-title">GitLab</h3>
                            <p class="card-description">Connect your GitLab projects and merge requests</p>
                            <div class="mt-4">
                                <div class="btn btn-secondary" style="width: 100%;">Connect GitLab</div>
                            </div>
                        </div>
                    </div>

                    <!-- Bitbucket -->
                    <div class="card cursor-pointer transition-all" data-source="bitbucket" data-required="true">
                        <div class="card-content text-center">
                            <div class="w-16 h-16 bg-black rounded-lg flex items-center justify-center mb-4 mx-auto">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="white">
                                    <path d="M.778 1.213a.768.768 0 00-.768.892l3.263 19.81c.084.5.515.867 1.022.867H19.95a.772.772 0 00.77-.646L23.984 2.12a.772.772 0 00-.77-.907H.778zm14.52 15.16H8.617l-1.313-6.82h9.292l-1.298 6.82z"/>
                                </svg>
                            </div>
                            <h3 class="card-title">Bitbucket</h3>
                            <p class="card-description">Connect your Bitbucket repositories and pull requests</p>
                            <div class="mt-4">
                                <div class="btn btn-secondary" style="width: 100%;">Connect Bitbucket</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Optional Data Sources -->
            <div class="mb-12">
                <h2 class="mb-6">CI/CD & Build Systems <span class="text-sm font-normal text-medium">(Optional)</span></h2>
                <p class="text-medium mb-6">Connect your CI/CD pipeline to monitor build performance, deployment frequency, and failure rates.</p>
                
                <div class="grid grid-cols-4 gap-4">
                    <!-- Jenkins -->
                    <div class="card cursor-pointer transition-all" data-source="jenkins" data-required="false">
                        <div class="card-content text-center">
                            <div class="w-12 h-12 bg-light rounded-lg flex items-center justify-center mb-3 mx-auto">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h4 class="text-sm font-semibold mb-1">Jenkins</h4>
                            <div class="btn btn-ghost btn-sm" style="width: 100%;">Connect</div>
                        </div>
                    </div>

                    <!-- GitHub Actions -->
                    <div class="card cursor-pointer transition-all" data-source="github-actions" data-required="false">
                        <div class="card-content text-center">
                            <div class="w-12 h-12 bg-light rounded-lg flex items-center justify-center mb-3 mx-auto">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h4 class="text-sm font-semibold mb-1">GitHub Actions</h4>
                            <div class="btn btn-ghost btn-sm" style="width: 100%;">Connect</div>
                        </div>
                    </div>

                    <!-- GitLab CI -->
                    <div class="card cursor-pointer transition-all" data-source="gitlab-ci" data-required="false">
                        <div class="card-content text-center">
                            <div class="w-12 h-12 bg-light rounded-lg flex items-center justify-center mb-3 mx-auto">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h4 class="text-sm font-semibold mb-1">GitLab CI</h4>
                            <div class="btn btn-ghost btn-sm" style="width: 100%;">Connect</div>
                        </div>
                    </div>

                    <!-- CircleCI -->
                    <div class="card cursor-pointer transition-all" data-source="circleci" data-required="false">
                        <div class="card-content text-center">
                            <div class="w-12 h-12 bg-light rounded-lg flex items-center justify-center mb-3 mx-auto">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h4 class="text-sm font-semibold mb-1">CircleCI</h4>
                            <div class="btn btn-ghost btn-sm" style="width: 100%;">Connect</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Project Management -->
            <div class="mb-12">
                <h2 class="mb-6">Project Management <span class="text-sm font-normal text-medium">(Optional)</span></h2>
                <p class="text-medium mb-6">Connect your project management tools to correlate code changes with tickets and measure cycle times.</p>
                
                <div class="grid grid-cols-4 gap-4">
                    <!-- Jira -->
                    <div class="card cursor-pointer transition-all" data-source="jira" data-required="false">
                        <div class="card-content text-center">
                            <div class="w-12 h-12 bg-light rounded-lg flex items-center justify-center mb-3 mx-auto">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h4 class="text-sm font-semibold mb-1">Jira</h4>
                            <div class="btn btn-ghost btn-sm" style="width: 100%;">Connect</div>
                        </div>
                    </div>

                    <!-- Linear -->
                    <div class="card cursor-pointer transition-all" data-source="linear" data-required="false">
                        <div class="card-content text-center">
                            <div class="w-12 h-12 bg-light rounded-lg flex items-center justify-center mb-3 mx-auto">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h4 class="text-sm font-semibold mb-1">Linear</h4>
                            <div class="btn btn-ghost btn-sm" style="width: 100%;">Connect</div>
                        </div>
                    </div>

                    <!-- Asana -->
                    <div class="card cursor-pointer transition-all" data-source="asana" data-required="false">
                        <div class="card-content text-center">
                            <div class="w-12 h-12 bg-light rounded-lg flex items-center justify-center mb-3 mx-auto">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h4 class="text-sm font-semibold mb-1">Asana</h4>
                            <div class="btn btn-ghost btn-sm" style="width: 100%;">Connect</div>
                        </div>
                    </div>

                    <!-- Trello -->
                    <div class="card cursor-pointer transition-all" data-source="trello" data-required="false">
                        <div class="card-content text-center">
                            <div class="w-12 h-12 bg-light rounded-lg flex items-center justify-center mb-3 mx-auto">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h4 class="text-sm font-semibold mb-1">Trello</h4>
                            <div class="btn btn-ghost btn-sm" style="width: 100%;">Connect</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Code Quality -->
            <div class="mb-12">
                <h2 class="mb-6">Code Quality & Security <span class="text-sm font-normal text-medium">(Optional)</span></h2>
                <p class="text-medium mb-6">Monitor code quality metrics, test coverage, and security vulnerabilities.</p>
                
                <div class="grid grid-cols-4 gap-4">
                    <!-- SonarQube -->
                    <div class="card cursor-pointer transition-all" data-source="sonarqube" data-required="false">
                        <div class="card-content text-center">
                            <div class="w-12 h-12 bg-light rounded-lg flex items-center justify-center mb-3 mx-auto">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h4 class="text-sm font-semibold mb-1">SonarQube</h4>
                            <div class="btn btn-ghost btn-sm" style="width: 100%;">Connect</div>
                        </div>
                    </div>

                    <!-- CodeClimate -->
                    <div class="card cursor-pointer transition-all" data-source="codeclimate" data-required="false">
                        <div class="card-content text-center">
                            <div class="w-12 h-12 bg-light rounded-lg flex items-center justify-center mb-3 mx-auto">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h4 class="text-sm font-semibold mb-1">CodeClimate</h4>
                            <div class="btn btn-ghost btn-sm" style="width: 100%;">Connect</div>
                        </div>
                    </div>

                    <!-- Snyk -->
                    <div class="card cursor-pointer transition-all" data-source="snyk" data-required="false">
                        <div class="card-content text-center">
                            <div class="w-12 h-12 bg-light rounded-lg flex items-center justify-center mb-3 mx-auto">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h4 class="text-sm font-semibold mb-1">Snyk</h4>
                            <div class="btn btn-ghost btn-sm" style="width: 100%;">Connect</div>
                        </div>
                    </div>

                    <!-- Dependabot -->
                    <div class="card cursor-pointer transition-all" data-source="dependabot" data-required="false">
                        <div class="card-content text-center">
                            <div class="w-12 h-12 bg-light rounded-lg flex items-center justify-center mb-3 mx-auto">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h4 class="text-sm font-semibold mb-1">Dependabot</h4>
                            <div class="btn btn-ghost btn-sm" style="width: 100%;">Connect</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Connected Sources Summary -->
            <div class="card mb-8" id="connected-sources" style="display: none;">
                <div class="card-header">
                    <h3 class="card-title">Connected Data Sources</h3>
                    <p class="card-description">Review your connected integrations</p>
                </div>
                <div class="card-content">
                    <div id="connected-list" class="space-y-3">
                        <!-- Connected sources will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Navigation -->
            <div class="flex justify-between items-center">
                <button class="btn btn-ghost" onclick="window.location.href='signup.html'">
                    ← Back
                </button>
                
                <div class="flex items-center gap-4">
                    <button class="btn btn-secondary" id="skip-optional">
                        Skip Optional Sources
                    </button>
                    <button class="btn btn-primary" id="continue-setup" disabled>
                        Continue to Team Setup
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Connection Modal -->
    <div id="connection-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" style="z-index: 1000;">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-black rounded-lg flex items-center justify-center mb-4 mx-auto">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="white" id="modal-icon">
                        <!-- Icon will be updated based on selected source -->
                    </svg>
                </div>
                <h3 id="modal-title">Connect GitHub</h3>
                <p class="text-medium" id="modal-description">Authorize Momentum to access your GitHub repositories</p>
            </div>

            <form id="connection-form">
                <div class="form-group">
                    <label for="api-token" class="form-label">API Token</label>
                    <input type="password" id="api-token" class="form-input" placeholder="Enter your API token" required>
                    <div class="form-help">
                        <a href="#" class="text-black">How to create an API token</a>
                    </div>
                </div>

                <div class="form-group" id="server-url-group" style="display: none;">
                    <label for="server-url" class="form-label">Server URL</label>
                    <input type="url" id="server-url" class="form-input" placeholder="https://your-server.com">
                </div>

                <div class="flex gap-3">
                    <button type="button" class="btn btn-secondary" style="flex: 1;" onclick="closeConnectionModal()">
                        Cancel
                    </button>
                    <button type="submit" class="btn btn-primary" style="flex: 1;">
                        Connect
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>