<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Setup - Momentum Setup</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">Momentum</a>
                <div class="text-sm text-medium">Setup Wizard</div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container" style="padding-top: 2rem; padding-bottom: 4rem;">
        <!-- Wizard Steps -->
        <div class="wizard-steps">
            <div class="wizard-step completed">
                <div class="wizard-step-number">1</div>
                <span class="wizard-step-label">Account</span>
            </div>
            <div class="wizard-step completed">
                <div class="wizard-step-number">2</div>
                <span class="wizard-step-label">Data Sources</span>
            </div>
            <div class="wizard-step active">
                <div class="wizard-step-number">3</div>
                <span class="wizard-step-label">Team Setup</span>
            </div>
            <div class="wizard-step">
                <div class="wizard-step-number">4</div>
                <span class="wizard-step-label">Review</span>
            </div>
        </div>

        <!-- Team Setup -->
        <div class="container-sm">
            <div class="text-center mb-12">
                <h1>Set Up Your Teams</h1>
                <p class="text-lg text-medium">Organize your repositories into teams for better insights and reporting</p>
            </div>

            <!-- Repository Discovery -->
            <div class="card mb-8">
                <div class="card-header">
                    <h3 class="card-title">Repository Discovery</h3>
                    <p class="card-description">We found <span id="repo-count">47</span> repositories from your connected data sources</p>
                </div>
                <div class="card-content">
                    <div class="flex items-center gap-4 mb-4">
                        <div class="form-group" style="margin-bottom: 0; flex: 1;">
                            <input type="text" id="repo-search" class="form-input" placeholder="Search repositories...">
                        </div>
                        <button class="btn btn-secondary" id="refresh-repos">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M23 4v6h-6"/>
                                <path d="M1 20v-6h6"/>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
                            </svg>
                            Refresh
                        </button>
                    </div>

                    <!-- Repository Filters -->
                    <div class="flex items-center gap-4 mb-6">
                        <div class="flex items-center gap-2">
                            <span class="text-sm text-medium">Filter by:</span>
                            <div class="date-range-selector">
                                <button class="date-range-option active" data-filter="all">All</button>
                                <button class="date-range-option" data-filter="active">Active</button>
                                <button class="date-range-option" data-filter="archived">Archived</button>
                            </div>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="text-sm text-medium">Source:</span>
                            <select class="form-input" style="width: auto; padding: 0.25rem 0.5rem;" id="source-filter">
                                <option value="all">All Sources</option>
                                <option value="github">GitHub</option>
                                <option value="gitlab">GitLab</option>
                                <option value="bitbucket">Bitbucket</option>
                            </select>
                        </div>
                    </div>

                    <!-- Repository List -->
                    <div class="repository-list">
                        <div class="repository-item">
                            <input type="checkbox" id="repo-1" class="repository-checkbox">
                            <div class="repository-info">
                                <div class="repository-name">web-frontend</div>
                                <div class="repository-description">React-based frontend application for the main product</div>
                                <div class="text-xs text-light mt-1">
                                    <span>JavaScript</span> • <span>Last commit 2 hours ago</span> • <span>GitHub</span>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-xs text-medium">Active</span>
                                <div class="w-2 h-2 bg-medium rounded-full"></div>
                            </div>
                        </div>

                        <div class="repository-item">
                            <input type="checkbox" id="repo-2" class="repository-checkbox">
                            <div class="repository-info">
                                <div class="repository-name">api-service</div>
                                <div class="repository-description">Core API service handling business logic and data</div>
                                <div class="text-xs text-light mt-1">
                                    <span>TypeScript</span> • <span>Last commit 4 hours ago</span> • <span>GitHub</span>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-xs text-medium">Active</span>
                                <div class="w-2 h-2 bg-medium rounded-full"></div>
                            </div>
                        </div>

                        <div class="repository-item">
                            <input type="checkbox" id="repo-3" class="repository-checkbox">
                            <div class="repository-info">
                                <div class="repository-name">mobile-app</div>
                                <div class="repository-description">React Native mobile application</div>
                                <div class="text-xs text-light mt-1">
                                    <span>TypeScript</span> • <span>Last commit 1 day ago</span> • <span>GitHub</span>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-xs text-medium">Active</span>
                                <div class="w-2 h-2 bg-medium rounded-full"></div>
                            </div>
                        </div>

                        <div class="repository-item">
                            <input type="checkbox" id="repo-4" class="repository-checkbox">
                            <div class="repository-info">
                                <div class="repository-name">infrastructure</div>
                                <div class="repository-description">Terraform configurations and deployment scripts</div>
                                <div class="text-xs text-light mt-1">
                                    <span>HCL</span> • <span>Last commit 3 days ago</span> • <span>GitHub</span>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-xs text-medium">Active</span>
                                <div class="w-2 h-2 bg-medium rounded-full"></div>
                            </div>
                        </div>

                        <div class="repository-item">
                            <input type="checkbox" id="repo-5" class="repository-checkbox">
                            <div class="repository-info">
                                <div class="repository-name">data-pipeline</div>
                                <div class="repository-description">ETL pipeline for data processing and analytics</div>
                                <div class="text-xs text-light mt-1">
                                    <span>Python</span> • <span>Last commit 5 days ago</span> • <span>GitHub</span>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-xs text-medium">Active</span>
                                <div class="w-2 h-2 bg-medium rounded-full"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Bulk Actions -->
                    <div class="flex items-center justify-between mt-4 pt-4 border-t border-color-border">
                        <div class="flex items-center gap-4">
                            <button class="btn btn-ghost btn-sm" id="select-all">Select All</button>
                            <button class="btn btn-ghost btn-sm" id="select-none">Select None</button>
                            <span class="text-sm text-medium" id="selection-count">0 repositories selected</span>
                        </div>
                        <button class="btn btn-secondary btn-sm" id="bulk-assign" disabled>
                            Assign to Team
                        </button>
                    </div>
                </div>
            </div>

            <!-- Team Creation -->
            <div class="grid grid-cols-2 gap-6 mb-8">
                <!-- Create Teams -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Create Teams</h3>
                        <p class="card-description">Create teams and assign repositories</p>
                    </div>
                    <div class="card-content">
                        <form id="team-form">
                            <div class="form-group">
                                <label for="team-name" class="form-label">Team Name</label>
                                <input type="text" id="team-name" class="form-input" placeholder="Frontend Team" required>
                            </div>

                            <div class="form-group">
                                <label for="team-description" class="form-label">Description</label>
                                <textarea id="team-description" class="form-textarea" placeholder="Responsible for frontend development and user experience" rows="3"></textarea>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Assignment Method</label>
                                <div class="space-y-2">
                                    <div class="form-radio">
                                        <input type="radio" id="assign-manual" name="assignmentMethod" value="manual" checked>
                                        <label for="assign-manual">Manual selection</label>
                                    </div>
                                    <div class="form-radio">
                                        <input type="radio" id="assign-regex" name="assignmentMethod" value="regex">
                                        <label for="assign-regex">Pattern matching (regex)</label>
                                    </div>
                                    <div class="form-radio">
                                        <input type="radio" id="assign-labels" name="assignmentMethod" value="labels">
                                        <label for="assign-labels">Repository labels/topics</label>
                                    </div>
                                </div>
                            </div>

                            <!-- Regex Pattern Input -->
                            <div class="form-group hidden" id="regex-pattern-group">
                                <label for="regex-pattern" class="form-label">Repository Name Pattern</label>
                                <input type="text" id="regex-pattern" class="form-input" placeholder="^frontend-.*|.*-ui$">
                                <div class="form-help">Use regex to match repository names</div>
                            </div>

                            <!-- Labels Input -->
                            <div class="form-group hidden" id="labels-group">
                                <label for="labels-input" class="form-label">Labels/Topics</label>
                                <input type="text" id="labels-input" class="form-input" placeholder="frontend, ui, react">
                                <div class="form-help">Comma-separated list of labels or topics</div>
                            </div>

                            <button type="submit" class="btn btn-primary" style="width: 100%;">
                                Create Team
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Quick Setup -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Quick Setup</h3>
                        <p class="card-description">Common team configurations</p>
                    </div>
                    <div class="card-content space-y-3">
                        <button class="btn btn-secondary" style="width: 100%; justify-content: flex-start;" data-quick-setup="frontend">
                            <div class="text-left">
                                <div class="font-medium">Frontend Team</div>
                                <div class="text-xs text-medium">React, Vue, Angular, UI/UX</div>
                            </div>
                        </button>
                        
                        <button class="btn btn-secondary" style="width: 100%; justify-content: flex-start;" data-quick-setup="backend">
                            <div class="text-left">
                                <div class="font-medium">Backend Team</div>
                                <div class="text-xs text-medium">API, Microservices, Database</div>
                            </div>
                        </button>
                        
                        <button class="btn btn-secondary" style="width: 100%; justify-content: flex-start;" data-quick-setup="mobile">
                            <div class="text-left">
                                <div class="font-medium">Mobile Team</div>
                                <div class="text-xs text-medium">iOS, Android, React Native</div>
                            </div>
                        </button>
                        
                        <button class="btn btn-secondary" style="width: 100%; justify-content: flex-start;" data-quick-setup="devops">
                            <div class="text-left">
                                <div class="font-medium">DevOps Team</div>
                                <div class="text-xs text-medium">Infrastructure, CI/CD, Deployment</div>
                            </div>
                        </button>
                        
                        <button class="btn btn-secondary" style="width: 100%; justify-content: flex-start;" data-quick-setup="data">
                            <div class="text-left">
                                <div class="font-medium">Data Team</div>
                                <div class="text-xs text-medium">Analytics, ML, Data Pipeline</div>
                            </div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Created Teams -->
            <div class="card mb-8" id="created-teams" style="display: none;">
                <div class="card-header">
                    <h3 class="card-title">Created Teams</h3>
                    <p class="card-description">Teams you've created and their repository assignments</p>
                </div>
                <div class="card-content">
                    <div id="teams-list" class="space-y-4">
                        <!-- Teams will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Unassigned Repositories -->
            <div class="card mb-8" id="unassigned-repos">
                <div class="card-header">
                    <h3 class="card-title">Unassigned Repositories</h3>
                    <p class="card-description">Repositories that haven't been assigned to any team yet</p>
                </div>
                <div class="card-content">
                    <div class="text-center text-medium py-8">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" class="mx-auto mb-4">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 8v8"/>
                            <path d="M8 12h8"/>
                        </svg>
                        <p>All repositories will be shown here until assigned to teams</p>
                    </div>
                </div>
            </div>

            <!-- Navigation -->
            <div class="flex justify-between items-center">
                <button class="btn btn-ghost" onclick="window.location.href='data-sources.html'">
                    ← Back to Data Sources
                </button>
                
                <div class="flex items-center gap-4">
                    <div class="text-sm text-medium">
                        <span id="teams-created-count">0</span> teams created, 
                        <span id="repos-assigned-count">0</span> repositories assigned
                    </div>
                    <button class="btn btn-primary" id="continue-review">
                        Continue to Review
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Team Assignment Modal -->
    <div id="assignment-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" style="z-index: 1000;">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4">
            <div class="mb-6">
                <h3>Assign Repositories to Team</h3>
                <p class="text-medium">Select a team to assign the selected repositories</p>
            </div>

            <div class="space-y-3 mb-6" id="team-selection">
                <!-- Team options will be populated here -->
            </div>

            <div class="flex gap-3">
                <button type="button" class="btn btn-secondary" style="flex: 1;" onclick="closeAssignmentModal()">
                    Cancel
                </button>
                <button type="button" class="btn btn-primary" style="flex: 1;" id="confirm-assignment">
                    Assign
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>